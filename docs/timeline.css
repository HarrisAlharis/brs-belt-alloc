:root{
  --bg:#0f1720; --panel:#111a25; --ink:#e7edf5; --muted:#9fb1c5; --grid:#243142;
  --pill-green:#143b1f; --pill-green-border:#1f5a30;
  --pill-amber:#3c2a10; --pill-amber-border:#835c2b;
  --pill-red:#3e1316; --pill-red-border:#7a2a30;
  --pill-blue:#102a3c; --pill-blue-border:#2b587a;
}

*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;background:var(--bg);color:var(--ink);
  font:14px/1.4 system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial}

.topbar{
  display:flex; justify-content:space-between; align-items:center;
  padding:12px 16px; border-bottom:1px solid rgba(255,255,255,.06)
}
h1{margin:0 0 2px 0; font-size:18px}
.meta{color:var(--muted); font-size:12px}
.controls{display:flex; gap:16px; align-items:center; flex-wrap:wrap}
.control{display:flex; align-items:center; gap:8px}
.control label{color:var(--muted); font-size:12px}
select, .btn{
  background:#1b2532; color:var(--ink); border:1px solid rgba(255,255,255,.12);
  border-radius:8px; padding:6px 8px; font-size:13px
}
.btn{cursor:pointer}

.chips{display:flex; gap:6px; flex-wrap:wrap}
.chip{
  border:1px solid rgba(255,255,255,.12); padding:6px 10px; border-radius:999px;
  cursor:pointer; user-select:none; background:#1b2532; font-size:13px
}
.chip.active{background:#263246}

.legend{display:flex; gap:14px; align-items:center; color:var(--muted); font-size:12px}
.legend .dot{width:10px; height:10px; border-radius:50%; display:inline-block; margin-right:6px}
.ontime{background:#1d6135} .slip10{background:#8a5b1a} .slip20{background:#943338} .early{background:#2b5f94}

.host{height:calc(100vh - 110px); padding:10px 10px 0 10px}
svg{width:100%; height:100%; display:block; background:var(--panel); border-radius:10px}

.axis line, .axis path{stroke:var(--grid); stroke-width:1}
.gridline{stroke:var(--grid); stroke-width:1}

.rowBand{fill:#0f1720}
.rowSep{stroke:#162232; stroke-width:1}

.puck{rx:14; ry:14; stroke:rgba(255,255,255,.18); fill:#143b1f}
.puck.red{ fill:#3e1316; stroke:var(--pill-red-border) }
.puck.amber{ fill:#3c2a10; stroke:var(--pill-amber-border) }
.puck.green{ fill:#143b1f; stroke:var(--pill-green-border) }
.puck.blue{ fill:#102a3c; stroke:var(--pill-blue-border) }
.puck.dim{ opacity:.45 }

.puckLabel{ fill:#fff; font-weight:700; font-size:13px; pointer-events:none }
.puckSub{ fill:#cfe6ff; font-size:11px; opacity:.85; pointer-events:none }

.nowLine{stroke:#59a3ff; stroke-width:2}
.nowTick{stroke:#59a3ff; stroke-dasharray:2 6}

.tooltip{
  position:fixed; background:#0c141f; color:#e7edf5; border:1px solid rgba(255,255,255,.15);
  padding:10px 12px; border-radius:10px; box-shadow:0 8px 30px rgba(0,0,0,.35);
  pointer-events:none; font-size:13px; max-width:360px; z-index:5
}

.footnote{padding:8px 14px 16px; color:var(--muted); font-size:12px}
