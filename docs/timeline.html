<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>BRS – Belt Timeline</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root { --bg:#0f1720; --panel:#121a25; --ink:#e7edf5; --muted:#9fb1c5; --grid:rgba(255,255,255,.08); }
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:var(--ink);font:14px/1.4 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;}
    header{display:flex;justify-content:space-between;align-items:baseline;padding:12px 16px;border-bottom:1px solid var(--grid)}
    h1{margin:0;font-size:18px;font-weight:700}
    .meta{color:var(--muted);font-size:12px}

    .wrap{padding:10px 12px;max-width:1400px;margin:0 auto;}
    .panel{background:var(--panel);border:1px solid var(--grid);border-radius:10px;padding:10px 12px;margin-bottom:10px}

    .controls{display:flex;gap:16px;flex-wrap:wrap;align-items:center}
    .group{display:flex;gap:8px;align-items:center;color:var(--muted);font-size:12px}
    .group label{display:flex;gap:6px;align-items:center}
    .chips{display:flex;gap:6px;flex-wrap:wrap}
    .chip{border:1px solid var(--grid);padding:6px 10px;border-radius:999px;background:#0e1520;cursor:pointer}
    .chip.active{background:#142033}
    select, button{background:#0e1520;border:1px solid var(--grid);color:var(--ink);border-radius:8px;padding:6px 10px}
    button:hover{background:#162338}
    .legend{display:flex;gap:10px;align-items:center;color:var(--muted);font-size:12px}
    .key{display:inline-flex;gap:6px;align-items:center}
    .dot{width:12px;height:12px;border-radius:3px;border:1px solid rgba(255,255,255,.18)}
    .k-green{background:#143b1f}.k-orange{background:#3c2a10}.k-red{background:#3e1316}.k-blue{background:#102a3c}

    .canvas{background:var(--panel);border:1px solid var(--grid);border-radius:10px;overflow:hidden;position:relative}
    .tooltip{position:absolute;pointer-events:none;background:#0b111a;color:#e7edf5;border:1px solid #223044;border-radius:8px;padding:8px 10px;font-size:12px;box-shadow:0 8px 20px rgba(0,0,0,.35);display:none;max-width:360px}
    .tooltip .title{font-weight:700;margin-bottom:2px}
    .tooltip .muted{color:var(--muted)}
  </style>
</head>
<body>
  <header>
    <h1>BRS – Belt Timeline</h1>
    <div class="meta" id="meta"></div>
  </header>

  <div class="wrap">
    <!-- Controls -->
    <div class="panel">
      <div class="controls">
        <div class="group">
          <strong>Belt filter:</strong>
          <div id="beltChips" class="chips"></div>
          <button id="allBelts">All</button>
          <button id="noBelts">None</button>
        </div>

        <div class="group">
          <strong>Zoom:</strong>
          <select id="zoom">
            <option value="3">3 px/min (narrow)</option>
            <option value="6" selected>6 px/min (default)</option>
            <option value="9">9 px/min (wide)</option>
          </select>
        </div>

        <div class="group">
          <strong>Window:</strong>
          Back
          <select id="back">
            <option value="0">0 min</option>
            <option value="15" selected>15 min</option>
            <option value="30">30 min</option>
          </select>
          Ahead
          <select id="ahead">
            <option value="120">+2 h</option>
            <option value="180" selected>+3 h</option>
            <option value="240">+4 h</option>
          </select>
          <button id="jumpNow">Now</button>
        </div>

        <div class="legend">
          <span class="key"><span class="dot k-green"></span> On time / small slip</span>
          <span class="key"><span class="dot k-orange"></span> +10–19</span>
          <span class="key"><span class="dot k-red"></span> +20+</span>
          <span class="key"><span class="dot k-blue"></span> Early</span>
        </div>
      </div>
    </div>

    <!-- Canvas -->
    <div id="host" class="canvas" style="height:560px;">
      <svg id="svg" width="100%" height="560" viewBox="0 0 1200 560" preserveAspectRatio="none"></svg>
      <div id="tooltip" class="tooltip"></div>
    </div>
  </div>

  <script src="timeline.js"></script>
</body>
</html>
